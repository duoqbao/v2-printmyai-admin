(this["webpackJsonpprint-admin"]=this["webpackJsonpprint-admin"]||[]).push([[15],{398:function(e,t,n){"use strict";var a=n(106);t.a={getUsers:function(e){var t=e.limit,n=void 0===t?5:t,c=e.skip,r=void 0===c?0:c,i={};return n&&(i.limit=n),i.skip=r||0,a.b.get("/users",{params:i})},getPaymentById:function(e){return a.b.get("/ecommerc/payments/list/".concat(e))},deleteUser:function(e){return a.b.delete("/users/".concat(e))}}},416:function(e,t,n){"use strict";var a=n(1),c=n(9),r=n(147),i=n(2),o=n.n(i),l=n(35),s=n(12),u=n(0),d=n(47),p=n(216),f=n(24),b=n(66),m=n(109),j=n(203),v=n(63),O=n(67),h=n(202),x=function(e){var t=e.prefixCls,n=e.okButtonProps,c=e.cancelButtonProps,r=e.title,i=e.cancelText,o=e.okText,l=e.okType,s=e.icon,p=e.showCancel,f=void 0===p||p,x=e.close,y=e.onConfirm,g=e.onCancel,C=u.useContext(d.b).getPrefixCls;return u.createElement(v.a,{componentName:"Popconfirm",defaultLocale:O.a.Popconfirm},(function(e){return u.createElement("div",{className:"".concat(t,"-inner-content")},u.createElement("div",{className:"".concat(t,"-message")},s&&u.createElement("span",{className:"".concat(t,"-message-icon")},s),u.createElement("div",{className:"".concat(t,"-message-title")},Object(h.a)(r))),u.createElement("div",{className:"".concat(t,"-buttons")},f&&u.createElement(b.a,Object(a.a)({onClick:g,size:"small"},c),null!==i&&void 0!==i?i:e.cancelText),u.createElement(j.a,{buttonProps:Object(a.a)(Object(a.a)({size:"small"},Object(m.a)(l)),n),actionFn:y,close:x,prefixCls:C("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==o&&void 0!==o?o:e.okText)))}))},y=void 0,g=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},C=u.forwardRef((function(e,t){var n=u.useContext(d.b).getPrefixCls,i=Object(l.a)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),b=Object(c.a)(i,2),m=b[0],j=b[1],v=function(t,n){var a,c;j(t,!0),null===(a=e.onVisibleChange)||void 0===a||a.call(e,t,n),null===(c=e.onOpenChange)||void 0===c||c.call(e,t,n)},O=e.prefixCls,h=e.placement,C=void 0===h?"top":h,k=e.trigger,w=void 0===k?"click":k,E=e.okType,N=void 0===E?"primary":E,P=e.icon,S=void 0===P?u.createElement(r.a,null):P,T=e.children,z=e.overlayClassName,A=g(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),D=n("popover",O),I=n("popconfirm",O),U=o()(I,z);return u.createElement(p.a,Object(a.a)({},A,{trigger:w,prefixCls:D,placement:C,onOpenChange:function(t){var n=e.disabled;void 0!==n&&n||v(t)},open:m,ref:t,overlayClassName:U,_overlay:u.createElement(x,Object(a.a)({okType:N,icon:S},e,{prefixCls:D,close:function(e){v(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(y,t)},onCancel:function(t){var n;v(!1,t),null===(n=e.onCancel)||void 0===n||n.call(y,t)}}))}),Object(f.a)(T,{onKeyDown:function(e){var t,n;u.isValidElement(T)&&(null===(n=null===T||void 0===T?void 0:(t=T.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===s.a.ESC&&m&&v(!1,e)}(e)}}))}));t.a=C},418:function(e,t,n){"use strict";var a=n(3),c=n(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},i=n(107),o=function(e,t){return c.createElement(i.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:r}))};o.displayName="DeleteOutlined";t.a=c.forwardRef(o)},516:function(e,t,n){},526:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var a=n(44),c=n.n(a),r=n(126),i=n(65),o=n(62),l=n(416),s=n(66),u=n(379),d=n(376),p=n(377),f=n(378),b=n(185),m=n(217),j=n.n(m),v=n(0),O=n(82),h=n(45),x=n(242),y=n(398),g=(n(516),n(418)),C=n(7);function k(){var e=Object(h.g)(),t=Object(O.b)(),n=Object(v.useState)({current:1,limit:10,total:0,skip:0}),a=Object(o.a)(n,2),m=a[0],k=a[1],w=Object(v.useState)([]),E=Object(o.a)(w,2),N=E[0],P=E[1],S=Object(v.useState)(!1),T=Object(o.a)(S,2),z=T[0],A=T[1],D=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(!0),e.next=4,y.a.getUsers(m);case 4:t=e.sent,n=t.users,a=t.total,P(n.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{key:e._id})}))),k(Object(r.a)(Object(r.a)({},m),{},{total:a})),A(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),A(!1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),I=[{title:"User Name",dataIndex:"username",key:"username"},{title:"Email Address",dataIndex:"email",key:"email"},{title:"Join Date",dataIndex:"createdAt",key:"createdAt",render:function(e){return Object(C.jsx)("span",{children:j()(e).format("DD-MM-YYYY")})}},{title:"Fine Tunes",dataIndex:"tunes",key:"tunes",render:function(e){var t=e.reduce((function(e,t){return 1===Object.keys(t).length?e:e+1}),0);return Object(C.jsx)("div",{children:t})}},{key:"action",render:function(n){return Object(C.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(C.jsx)("a",{onClick:function(){t(Object(x.b)(n)),e.push("/users/orders")},children:"Show Order"}),Object(C.jsx)("a",{onClick:function(){t(Object(x.b)(n)),e.push("/users/".concat(n._id,"/payments"))},children:"Show Payments"})]})}},,{title:"Action",key:"onAction",render:function(e){return Object(C.jsx)("div",{children:Object(C.jsx)(l.a,{title:"Are you sure delete this user?",onConfirm:Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.deleteUser(e._id);case 2:D();case 3:case"end":return t.stop()}}),t)}))),onCancel:function(){},children:Object(C.jsx)(s.a,{icon:Object(C.jsx)(g.a,{}),danger:!0})})})}}];Object(v.useEffect)((function(){D()}),[t]);return Object(C.jsx)("div",{className:"layout-content",children:Object(C.jsx)(u.a,{bordered:!1,className:"criclebox tablespace mb-24 users",title:"Users",children:Object(C.jsxs)(d.a,{gutter:[24,12],children:[Object(C.jsx)(p.a,{span:24,children:Object(C.jsx)(f.a,{loading:z,columns:I,dataSource:N,pagination:!1})}),Object(C.jsx)(p.a,{span:24,className:"mb-24 mt-24",style:{display:"flex",justifyContent:"end",padding:30},children:Object(C.jsx)(b.a,{current:m.current,pageSize:m.limit,total:m.total,onChange:function(e,t){k(Object(r.a)(Object(r.a)({},m),{},{current:e,skip:e-1,limit:t})),D()},showSizeChanger:!0,showQuickJumper:!0})})]})})})}}}]);
//# sourceMappingURL=15.ddcac8c3.chunk.js.map